/*!
 * # Semantic UI 2.0.0 - Push
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributorss
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,t,o){"use strict";function i(e,n){for(var t=[];e.length>0;)t.push(e.pop()+n);return t.join(" ")}e.fn.push=function(t){{var s,r=e(this),a=r.selector||"",c=(new Date).getTime(),u=[],l=arguments[0],p="string"==typeof l,m=[].slice.call(arguments,1);n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)}}return r.each(function(){var f,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.push.settings,t):e.extend({},e.fn.push.settings),d=(g.selector,g.className,g.error,g.metadata,g.namespace),b=(g.templates,"."+d),h="module-"+d,v=(e(n),e(this)),y=null,k=!1,T=this,F=v.data(h);f={initialize:function(){f.debug("Initializing push behavior"),f.instantiate(),f.bind.events()},instantiate:function(){f.verbose("Storing instance of module",f),F=f,v.data(h,f)},bind:{events:function(){f.debug("Binding push module events"),v.on(i(["mousedown"],b),f.tickLoop).on(i(["mouseup","mouseleave","mouseout"],b),f.stopLoop).on(i(["click"],b),f.filterClick)}},tickLoop:function(){f.debug("loop iterates"),null!==y?(k=!0,v.click()):(console.log("onStart"),g.onStart()),y=n.setTimeout(f.tickLoop.bind(this),parseInt(e(this).data("push-interval")))},stopLoop:function(e){f.debug("loop stops"),null===y||k||v.click(),n.clearTimeout(y),y=null,k=!1,g.onStop()},filterClick:function(e){f.debug("click is filtered"),e.isTrigger===o&&(e.stopImmediatePropagation(),e.preventDefault())},reset:function(){f.debug("Clearing push"),g.onReset()},destroy:function(){f.verbose("Destroying previous instance of push"),f.reset(),v.removeData(h).off(b)},refresh:function(){f.verbose("Refreshing selector cache")},setting:function(n,t){if(f.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,g,n);else{if(t===o)return g[n];g[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,f,n);else{if(t===o)return f[n];f[n]=t}},debug:function(){g.debug&&(g.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,g.name+":"),f.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,g.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var n,t,o;g.performance&&(n=(new Date).getTime(),o=c||n,t=n-o,c=n,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":t})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var n=g.name+":",t=0;c=!1,clearTimeout(f.performance.timer),e.each(u,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",a&&(n+=" '"+a+"'"),r.length>1&&(n+=" ("+r.length+")"),(console.group!==o||console.table!==o)&&u.length>0&&(console.groupCollapsed(n),console.table?console.table(u):e.each(u,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),u=[]},invoke:function(n,t,i){var r,a,c,u=F;return t=t||m,i=T||i,"string"==typeof n&&u!==o&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(t,i){var s=t!=r?i+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(u[s])&&t!=r)u=u[s];else{if(u[s]!==o)return a=u[s],!1;if(!e.isPlainObject(u[i])||t==r)return u[i]!==o?(a=u[i],!1):(f.error(n),!1);u=u[i]}})),e.isFunction(a)?c=a.apply(i,t):a!==o&&(c=a),e.isArray(s)?s.push(c):s!==o?s=[s,c]:c!==o&&(s=c),a}}},p?(F===o&&f.initialize(),f.invoke(l)):(F!==o&&F.invoke("destroy"),f.initialize())}),s!==o?s:this},e.fn.push.settings={name:"Push",namespace:"push",debug:!0,verbose:!0,performance:!1,className:{active:"active",disabled:"disabled"}}}(jQuery,window,document);